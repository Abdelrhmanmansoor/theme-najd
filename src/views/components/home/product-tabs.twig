{# Product Tabs â€” Tabbed product sliders #}
{% set _pt = component.section_padding_top is defined and component.section_padding_top != '' ? component.section_padding_top : null %}
{% set _pb = component.section_padding_bottom is defined and component.section_padding_bottom != '' ? component.section_padding_bottom : null %}
{% set _spacing_style = (_pt is not null or _pb is not null) ? 'style="' ~ (_pt is not null ? 'padding-top:' ~ _pt ~ 'px;' : '') ~ (_pb is not null ? 'padding-bottom:' ~ _pb ~ 'px;' : '') ~ '"' : '' %}
<section class="najd-block najd-block--product-tabs {{ component.full_width is defined and component.full_width ? '' : 'container' }}" {{ _spacing_style }}>
    {% if component.title %}
        <div class="najd-block__header mb-8">
            <h2 class="najd-block__title">{{ component.title }}</h2>
        </div>
    {% endif %}

    <div class="najd-product-tabs" id="najd-product-tabs-{{ position }}">
        {# Tab buttons #}
        <div class="najd-product-tabs__nav">
            {% for tab in component.tabs %}
                <button class="najd-product-tabs__btn {{ loop.first ? 'is-active' : '' }}"
                        data-tab-index="{{ loop.index0 }}">
                    {{ tab.tab_title }}
                </button>
            {% endfor %}
        </div>

        {# Tab panels #}
        {% for tab in component.tabs %}
            <div class="najd-product-tabs__panel {{ loop.first ? 'is-active' : '' }}" data-tab-panel="{{ loop.index0 }}">
                <salla-products-slider
                    {% if tab.products is defined and tab.products is iterable and tab.products|length %}
                        source="selected"
                        source-value="{{ tab.products|map((p) => p.id ?? p.value ?? p)|join(',') }}"
                    {% else %}
                        source="latest"
                    {% endif %}
                    {% if tab.display_all_url %}
                        display-all-url="{{ tab.display_all_url }}"
                    {% endif %}
                    slider-id="najd-tab-{{ position }}-{{ loop.index0 }}">
                </salla-products-slider>
            </div>
        {% endfor %}
    </div>
</section>
