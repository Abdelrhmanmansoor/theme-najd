{# ============================================================
   Statistics — 3 layout styles
   Layouts: cards, inline, progress
   Fields: component.layout, component.items[].number, .label, .icon, .suffix
   ============================================================ #}

{% set stats_layout = component.layout|default('cards') %}
{% set _pt = component.section_padding_top is defined and component.section_padding_top != '' ? component.section_padding_top : null %}
{% set _pb = component.section_padding_bottom is defined and component.section_padding_bottom != '' ? component.section_padding_bottom : null %}
{% set _spacing_style = (_pt is not null or _pb is not null) ? 'style="' ~ (_pt is not null ? 'padding-top:' ~ _pt ~ 'px;' : '') ~ (_pb is not null ? 'padding-bottom:' ~ _pb ~ 'px;' : '') ~ '"' : '' %}

{% if stats_layout == 'inline' %}
    {# === Inline: horizontal row, no cards === #}
    <section class="najd-block najd-block--stats {{ component.full_width is defined and component.full_width ? '' : 'container' }}" {{ _spacing_style }}>
        <div class="najd-stats-inline">
            {% for item in component.items %}
                <div class="najd-stats-inline__item">
                    <span class="najd-stats-inline__number" data-count="{{ item.number }}">0</span>
                    <span class="najd-stats-inline__suffix">{{ item.suffix|default('') }}</span>
                    <span class="najd-stats-inline__label">{{ item.label }}</span>
                </div>
            {% endfor %}
        </div>
    </section>

{% elseif stats_layout == 'progress' %}
    {# === Progress: animated progress bars === #}
    <section class="najd-block najd-block--stats {{ component.full_width is defined and component.full_width ? '' : 'container' }}" {{ _spacing_style }}>
        <div class="najd-stats-progress max-w-2xl mx-auto">
            {% for item in component.items %}
                <div class="najd-stats-progress__item">
                    <div class="najd-stats-progress__header">
                        {% if item.icon %}
                            <i class="{{ item.icon }} najd-stats-progress__icon"></i>
                        {% endif %}
                        <span class="najd-stats-progress__label">{{ item.label }}</span>
                        <span class="najd-stats-progress__value">
                            <span data-count="{{ item.number }}">0</span>{{ item.suffix|default('') }}
                        </span>
                    </div>
                    <div class="najd-stats-progress__bar">
                        <div class="najd-stats-progress__fill" data-width="{{ item.number }}" style="width: 0%"></div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>

{% else %}
    {# === Cards (default) === #}
    <section class="najd-block najd-block--stats {{ component.full_width is defined and component.full_width ? '' : 'container' }}" {{ _spacing_style }}>
        {% if component.title is defined and component.title %}
            <div class="najd-block__header text-center mb-10">
                <div class="najd-block__eyebrow">{{ component.eyebrow is defined and component.eyebrow ? component.eyebrow : 'بالأرقام' }}</div>
                <h2 class="najd-block__title">{{ component.title }}</h2>
                {% if component.subtitle is defined and component.subtitle %}<p class="najd-block__subtitle">{{ component.subtitle }}</p>{% endif %}
            </div>
        {% endif %}
        <div class="grid grid-cols-2 md:grid-cols-{{ component.items|length > 4 ? '4' : component.items|length }} gap-5">
            {% for item in component.items %}
                <div class="najd-stat text-center">
                    {% if item.icon %}
                        <i class="{{ item.icon }} najd-stat__icon"></i>
                    {% endif %}
                    <span class="najd-stat__number" data-count="{{ item.number }}">0</span>
                    <span class="najd-stat__suffix">{{ item.suffix|default('') }}</span>
                    <span class="najd-stat__label block mt-1">{{ item.label }}</span>
                </div>
            {% endfor %}
        </div>
    </section>
{% endif %}
